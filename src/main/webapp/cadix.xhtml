<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:comp="jakarta.faces.component"
      xmlns:pt="jakarta.faces.passthrough"
      xmlns:f="jakarta.faces.core">

    <h:head>
        <title>Facelet Title</title>
        <!-- Note: when deploying, replace "development.js" with "production.min.js". -->
        <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/react-bootstrap@next/dist/react-bootstrap.min.js"></script>
        <link   rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
        <script src="https://unpkg.com/react-minimal-pie-chart@8.4.0/dist/index.js"></script>
    </h:head>
    <h:body>

        Hello from Facelets
        <h:form>

            <comp:cadix id="cd">
                <comp:cadix id="cdinner" pt:p_elementtype="ReactBootstrap.Form" pt:p_className="p-3" value="aha">

                    <comp:cadix id="c1" pt:p_elementtype="ReactBootstrap.Button" pt:p_variant="success" pt:a_onClick="btnclck|e|console.log(e);return e.type" f:actionListener="#{demo.click}" render="c2"/>
                    <comp:cadix id="c2" pt:p_elementtype="ReactBootstrap.FormControl" pt:p_placeholder="#{demo.name}"  pt:p_value="#{demo.name}" value="#{demo.name}" pt:f_onChange="e|this.jsf.setValue(e.target.value);this.jsf.submitForm()"/>

                </comp:cadix>
            </comp:cadix>
            <h:panelGroup  id="sizer" layout="block" style="width:20em">
                <comp:cadix id="graph">
                    <comp:cadix id="g1" pt:p_elementtype="ReactMinimalPieChart.PieChart" pt:p_labelStyle="#{{'fontSize':'5px','fontFamily': 'serif'}}" pt:f_label="seg|console.log(seg.dataEntry.value);return seg.dataEntry.value;"   pt:p_data="#{[
                                                                                              { 'title': 'One', 'value': demo.one, 'color': '#E38627' },
                                                                                              { 'title': 'Two', 'value': 15, 'color': '#C13C37' },
                                                                                              { 'title': 'Three', 'value': 20, 'color': '#6A2135' }
                                                                                              ]}"/>
                     <comp:cadix id="g2" pt:p_elementtype="ReactBootstrap.Button" pt:p_variant="success" pt:a_onClick="btnclck|e|console.log(e);return e.type" f:actionListener="#{demo.inc}" render="g1"/>
                </comp:cadix>
            </h:panelGroup>

            <h:outputText value="T E S T"/>
            <h:inputText value="#{demo.txt}" />
            <h:commandButton  type="submit"/>

        </h:form>
    </h:body>
</html>

